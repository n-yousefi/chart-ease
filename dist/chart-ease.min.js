!function(){function t(t,r){const n=t.map((t=>({...t}))),a=[];r.forEach((e=>{a.push({...e,min:i(t,e.cols),max:s(t,e.cols)})}));const o=Object.keys(t[0]);n.forEach((t=>{a.forEach((i=>{o.forEach((s=>{i.cols.includes(s)&&(t[s]=e(t[s],i),t[s]=Math.round(t[s]))}))}))}));const h=[];return a.forEach((t=>{t.ticks>0&&h.push((t=>{const i=[],s=(r=t.min,n=t.max,a=t.ticks,Math.round((n-r)/(a-1)));var r,n,a;let o=t.min,h=t.plotStart;for(;h=e(o,t),!(h>t.axis.stop);)i.push({value:o,position:h}),o+=s;return i})(t))})),{data:n,ticks:h}}function e(t,e){return(t-e.min)/(e.max-e.min)*(e.plotStop-e.plotStart)+e.plotStart}function i(t,e){let i=Number.MAX_VALUE;for(let s=1;s<t.length;s++)for(let s=0;s<e.length;s++){const n=r(t,e[s]);i>n&&(i=n)}return i}function s(t,e){let i=Number.MIN_VALUE;for(let s=1;s<t.length;s++)for(let s=0;s<e.length;s++){const r=n(t,e[s]);r>i&&(i=r)}return i}function r(t,e){let i=t[0][e];for(let s=1;s<t.length;s++)i=Math.min(i,t[s][e]);return i}function n(t,e){let i=t[0][e];for(let s=1;s<t.length;s++)i=Math.max(i,t[s][e]);return i}function a(t){const e=document.createElementNS('http://www.w3.org/2000/svg',t.tagName.toLowerCase());var i,s;return i=t,s=e,Array.from(i.attributes).forEach((t=>{t.value&&s.setAttribute(t.name,t.value)})),((t,e)=>{t.style.cssText&&(e.style.cssText=t.style.cssText)})(t,e),Array.from(t.children).forEach((t=>{e.appendChild(a(t))})),e}function o(t){return document.createElementNS('http://www.w3.org/2000/svg',t)}function h(t,e){const{height:i}=t.getBoundingClientRect();'text'==e.tagName.toLowerCase()&&(e.setAttribute('transform',`scale(1,-1) translate(0, -${i})`),e.setAttribute('y',i-parseFloat(e.getAttribute('y'))))}function l(t,e,i,s,r){const n=o('g');i.forEach(((i,o)=>{e.forEach((e=>{const l=a(e);r?r({shape:l,row:i,originalRow:s[o],index:o}):((t,e,i)=>{switch(t.nodeName){case'rect':if(e>0){const i=Number(t.getAttribute('width')),s=i>0?e-i/2:e;t.setAttribute('x',s)}if(i>0){const s=Number(t.getAttribute('height')),r=s>0?i-s/2:e;t.setAttribute('y',r)}break;case'circle':case'ellipse':e>0&&t.setAttribute('cx',e),i>0&&t.setAttribute('cy',i);default:e>0&&t.setAttribute('x',e),i>0&&t.setAttribute('y',i)}})(l,i.x,i.y),n.appendChild(l),h(t,l)}))})),t.appendChild(n)}function u(t,e){const i=a(e);return t.appendChild(i),i}class c extends HTMLElement{constructor(){super()}connectedCallback(){}disconnectedCallback(){}draw(t,e,i,s){const r=this.parentElement.querySelector('svg');((t,e,i)=>{if(!e)return;const s=a(e);((t,e)=>{t.setAttribute('d',e.map(((t,e)=>0===e?`M ${t.x} ${t.y}`:` L ${t.x} ${t.y}`)).join(' ')),t.removeAttribute('is')})(s,i),t.appendChild(s)})(r,this.pathType,t),l(r,this.pointTypes,t,e,this.ondraw),((t,e,i)=>{const s=o('g');if(i.left){const t=u(s,i.left);t.setAttribute('x1',e[0].axis.start),t.setAttribute('x2',e[0].axis.start),t.setAttribute('y1',e[1].axis.start),t.setAttribute('y2',e[1].axis.stop)}if(i.top){const t=u(s,i.top);t.setAttribute('x1',e[0].axis.start),t.setAttribute('x2',e[0].axis.stop),t.setAttribute('y1',e[1].axis.stop),t.setAttribute('y2',e[1].axis.stop)}if(i.bottom){const t=u(s,i.bottom);t.setAttribute('x1',e[0].axis.start),t.setAttribute('x2',e[0].axis.stop),t.setAttribute('y1',e[1].axis.start),t.setAttribute('y2',e[1].axis.start)}if(i.right){const t=u(s,i.right);t.setAttribute('x1',e[0].axis.stop),t.setAttribute('x2',e[0].axis.stop),t.setAttribute('y1',e[1].axis.start),t.setAttribute('y2',e[1].axis.stop)}t.appendChild(s)})(r,this.axes,i),((t,e,i,s)=>{const r=o('g'),n=s[0],h=s[1];i.left&&s.length>0&&h.forEach((t=>{const s=a(i.left);s.setAttribute('x1',e[0].axis.start-5),s.setAttribute('x2',e[0].axis.start+5),s.setAttribute('y1',t.position),s.setAttribute('y2',t.position),r.appendChild(s)})),i.top&&s.length>1&&n.forEach((t=>{const s=a(i.top);s.setAttribute('x1',t.position),s.setAttribute('x2',t.position),s.setAttribute('y1',e[1].axis.stop-5),s.setAttribute('y2',e[1].axis.stop+5),r.appendChild(s)})),i.bottom&&s.length>1&&n.forEach((t=>{const s=a(i.bottom);s.setAttribute('x1',t.position),s.setAttribute('x2',t.position),s.setAttribute('y1',e[1].axis.start-5),s.setAttribute('y2',e[1].axis.start+5),r.appendChild(s)})),i.right&&s.length>0&&h.forEach((t=>{const s=a(i.right);s.setAttribute('x1',e[0].axis.stop-5),s.setAttribute('x2',e[0].axis.stop+5),s.setAttribute('y1',t.position),s.setAttribute('y2',t.position),r.appendChild(s)})),t.appendChild(r)})(r,this.axes,i,s),((t,e,i,s)=>{const r=o('g'),n=s[0],h=s[1];i.h&&s.length>0&&h.forEach((t=>{const s=a(i.h);s.setAttribute('x1',e[0].axis.start),s.setAttribute('x2',e[0].axis.stop),s.setAttribute('y1',t.position),s.setAttribute('y2',t.position),r.appendChild(s)})),i.v&&s.length>1&&n.forEach((t=>{const s=a(i.v);s.setAttribute('x1',t.position),s.setAttribute('x2',t.position),s.setAttribute('y1',e[1].axis.stop),s.setAttribute('y2',e[1].axis.start),r.appendChild(s)})),t.appendChild(r)})(r,this.axes,this.parentElement.gridLines,s),((t,e,i,s,r)=>{const n=s[0],l=s[1],u=o('g');t.appendChild(u),i.left&&s.length>0&&l.forEach((i=>{const s=a(r.left);s.innerHTML=i.value,u.appendChild(s);const{width:n,height:o}=s.getBoundingClientRect();s.setAttribute('x',e[0].axis.start-n-5),s.setAttribute('y',i.position-o/3),h(t,s)})),i.top&&s.length>1&&n.forEach((i=>{const s=a(r.top);s.innerHTML=i.value,u.appendChild(s);const{width:n,height:o}=s.getBoundingClientRect();s.setAttribute('x',i.position-n/2),s.setAttribute('y',e[1].axis.stop+o/2),h(t,s)})),i.bottom&&s.length>1&&n.forEach((i=>{const s=a(r.bottom);s.innerHTML=i.value,u.appendChild(s);const{width:n,height:o}=s.getBoundingClientRect();s.setAttribute('x',i.position-n/2),s.setAttribute('y',e[1].axis.start-o),h(t,s)})),i.right&&s.length>0&&l.forEach((i=>{const s=a(r.right);s.innerHTML=i.value,u.appendChild(s);const{width:n,height:o}=s.getBoundingClientRect();s.setAttribute('x',e[0].axis.stop+n),s.setAttribute('y',i.position-o/3),h(t,s)}))})(r,this.axes,i,s,this.parentElement.axesLabels)}set data(e){const i=this.parentElement.axesLines;this.axesInit(i);const{data:s,ticks:r}=t(e,this.axes);this.draw(s,e,i,r),this.parentElement.removeChild(this)}axesInit(t){this.axes=[{cols:this.getAttribute('hAxis')?this.getAttribute('hAxis').split(','):['x'],length:this.parentElement.width,ticks:parseInt(t.left?.getAttribute('ticks')??0)},{cols:this.getAttribute('vAxis')?this.getAttribute('vAxis').split(','):['y'],length:this.parentElement.height,ticks:parseInt(t.bottom?.getAttribute('ticks')??0)}],!this.axes||this.axes;const e=this.parentElement.margin,i=this.parentElement.padding;this.axes[0].plotStart=e.left+i.left,this.axes[0].plotStop=this.parentElement.width-e.right-i.right,this.axes[0].axis={start:e.left,stop:this.parentElement.width-e.right},this.axes[1].plotStart=e.bottom+i.bottom,this.axes[1].plotStop=this.parentElement.height-e.top-i.top,this.axes[1].axis={start:e.bottom,stop:this.parentElement.height-e.top}}get pathType(){return this.querySelector('path[is="path-type"]')}get pointTypes(){return Array.from(this.children).filter((t=>!t.getAttribute('is')))}}class p extends HTMLElement{constructor(){super(),this.setStyles()}connectedCallback(){this.svg=((t,e)=>{const i=document.createElementNS('http://www.w3.org/2000/svg','svg');return i.setAttribute('width',t),i.setAttribute('height',e),i.setAttribute('transform','scale(1,-1)'),i})(this.width,this.height),this.appendChild(this.svg)}disconnectedCallback(){}set axes(t){this.firstElementChild.axes=t}set ondraw(t){this.firstElementChild.ondraw=t}set data(t){this.firstElementChild.data=t}get width(){return parseFloat(this.getAttribute('width')??200)}get height(){return parseFloat(this.getAttribute('height')??200)}get margin(){return{top:parseFloat(this.getAttribute('margin-top')??this.getAttribute('margin')??0),bottom:parseFloat(this.getAttribute('margin-bottom')??this.getAttribute('margin')??0),left:parseFloat(this.getAttribute('margin-left')??this.getAttribute('margin')??0),right:parseFloat(this.getAttribute('margin-right')??this.getAttribute('margin')??0)}}get padding(){return{top:parseFloat(this.getAttribute('padding-top')??this.getAttribute('padding')??0),bottom:parseFloat(this.getAttribute('padding-bottom')??this.getAttribute('padding')??0),left:parseFloat(this.getAttribute('padding-left')??this.getAttribute('padding')??0),right:parseFloat(this.getAttribute('padding-right')??this.getAttribute('padding')??0)}}get axesLines(){return{left:Array.from(this.children).find((t=>'left-axis'==t.getAttribute('is'))),right:Array.from(this.children).find((t=>'right-axis'==t.getAttribute('is'))),top:Array.from(this.children).find((t=>'top-axis'==t.getAttribute('is'))),bottom:Array.from(this.children).find((t=>'bottom-axis'==t.getAttribute('is')))}}get gridLines(){return{v:Array.from(this.children).find((t=>'v-grid-lines'==t.getAttribute('is'))),h:Array.from(this.children).find((t=>'h-grid-lines'==t.getAttribute('is')))}}get axesLabels(){return{left:Array.from(this.children).find((t=>'left-labels'==t.getAttribute('is'))),right:Array.from(this.children).find((t=>'right-labels'==t.getAttribute('is'))),top:Array.from(this.children).find((t=>'top-labels'==t.getAttribute('is'))),bottom:Array.from(this.children).find((t=>'bottom-labels'==t.getAttribute('is')))}}setStyles(){this.style.lineHeight=0}}customElements.get('data-set')??customElements.define('data-set',c),customElements.get('chart-ease')??customElements.define('chart-ease',p),customElements.get('candle-stick')??customElements.define('candle-stick',class extends c{constructor(){super(),this.adjust()}connectedCallback(){}disconnectedCallback(){}adjust(){this.appendChild(o('line')),this.appendChild(o('rect')),this.ondraw=({shape:t,row:e})=>{switch(t.tagName){case'line':t.setAttribute('x1',e.x+5),t.setAttribute('x2',e.x+5),t.setAttribute('y1',e.low),t.setAttribute('y2',e.high),t.setAttribute('stroke',e.open>e.close?'#28A69A':'#EE5355');break;case'rect':t.setAttribute('width',10),t.setAttribute('height',Math.abs(e.open-e.close)),t.setAttribute('x',e.x),t.setAttribute('y',e.open),t.setAttribute('fill',e.open>e.close?'#28A69A':'#EE5355')}},this.axes=[{cols:['x'],length:200,margin:10},{cols:['low','open','close','high'],length:200,margin:10}]}})}();
//# sourceMappingURL=chart-ease.min.js.map
