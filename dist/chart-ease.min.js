!function(){function t(e){const i=document.createElementNS('http://www.w3.org/2000/svg',e.tagName.toLowerCase());var s,r;return s=e,r=i,Array.from(s.attributes).forEach((t=>{t.value&&r.setAttribute(t.name,t.value)})),((t,e)=>{t.style.cssText&&(e.style.cssText=t.style.cssText)})(e,i),Array.from(e.children).forEach((e=>{i.appendChild(t(e))})),i}function e(t){return document.createElementNS('http://www.w3.org/2000/svg',t)}function i(t,e){const{height:i}=t.getBoundingClientRect();'text'==e.tagName.toLowerCase()&&(e.setAttribute('transform',`scale(1,-1) translate(0, -${i})`),e.setAttribute('y',i-parseFloat(e.getAttribute('y'))))}function s(s,r,n,o,a){const h=e('g');n.forEach(((e,n)=>{r.forEach((r=>{const l=t(r);a?a({shape:l,row:e,originalRow:o[n],index:n}):((t,e,i)=>{switch(t.nodeName){case'rect':if(e>0){const i=Number(t.getAttribute('width')),s=i>0?e-i/2:e;t.setAttribute('x',s)}if(i>0){const s=Number(t.getAttribute('height')),r=s>0?i-s/2:e;t.setAttribute('y',r)}break;case'circle':case'ellipse':e>0&&t.setAttribute('cx',e),i>0&&t.setAttribute('cy',i);default:e>0&&t.setAttribute('x',e),i>0&&t.setAttribute('y',i)}})(l,e.x,e.y),h.appendChild(l),i(s,l)}))})),s.appendChild(h)}function r(t,e){e.forEach((e=>{null==e.min&&(e.min=((t,e)=>{let i=Number.MAX_VALUE;for(let s=1;s<t.length;s++)for(let s=0;s<e.length;s++){const r=n(t,e[s]);i>r&&(i=r)}return i})(t,e.cols)),null==e.max&&(e.max=((t,e)=>{let i=Number.MIN_VALUE;for(let s=1;s<t.length;s++)for(let s=0;s<e.length;s++){const r=o(t,e[s]);r>i&&(i=r)}return i})(t,e.cols))}))}function n(t,e){let i=t[0][e];for(let s=1;s<t.length;s++)i=Math.min(i,t[s][e]);return i}function o(t,e){let i=t[0][e];for(let s=1;s<t.length;s++)i=Math.max(i,t[s][e]);return i}class a extends HTMLElement{constructor(){super()}connectedCallback(){}disconnectedCallback(){}set data(e){const i=this.getNormalizeGroups();r(e,i),this.ondataSet&&this.ondataSet();const n=((t,e)=>{const i=t.map((t=>({...t}))),s=Object.keys(t[0]);return i.forEach((t=>{e.forEach((e=>{s.forEach((i=>{e.cols.includes(i)&&(t[i]=Math.round(((t,e)=>(t-e.min)/(e.max-e.min)*(e.stop-e.start)+e.start)(t[i],e)))}))}))})),i})(e,i),o=this.parentElement.querySelector('svg');((e,i,s)=>{if(!i)return;const r=t(i);((t,e)=>{t.setAttribute('d',e.map(((t,e)=>0===e?`M ${t.x} ${t.y}`:` L ${t.x} ${t.y}`)).join(' ')),t.removeAttribute('is')})(r,s),e.appendChild(r)})(o,this.pathType,n),s(o,this.pointTypes,n,e,this.ondraw),this.parentElement.removeChild(this)}getNormalizeGroups(){const t=this.parentElement.margin;let e={cols:this.getAttribute('hAxis')?this.getAttribute('hAxis').split(','):['x'],start:t.left,stop:this.parentElement.width-t.right},i=this.parentElement.querySelector('bottom-axis')??this.parentElement.querySelector('top-axis');i&&(e={...e,min:i.min,max:i.max});let s={cols:this.getAttribute('vAxis')?this.getAttribute('vAxis').split(','):['y'],start:t.bottom,stop:this.parentElement.height-t.top},r=this.parentElement.querySelector('left-axis')??this.parentElement.querySelector('right-axis');return r&&(s={...s,min:r.min,max:r.max}),e.start-=e.start-.05*e.stop,e.stop-=e.stop-.05*e.stop,s.start-=s.start-.05*s.stop,s.stop-=s.stop-.05*s.stop,[e,s]}get pathType(){return this.querySelector('path[is="path-type"]')}get pointTypes(){return Array.from(this.children).filter((t=>!t.getAttribute('is')))}}class h extends HTMLElement{constructor(){super(),this.init(),this.parentElement.addEventListener('created',(t=>{this.render()}))}connectedCallback(){}disconnectedCallback(){}render(){this.setTickPositions(),(i=>{const s=e('g');if(!i.type)return;const r=t(i.type);i.isVertical?(r.setAttribute('x1',i.position),r.setAttribute('x2',i.position),r.setAttribute('y1',i.start),r.setAttribute('y2',i.stop)):(r.setAttribute('x1',i.start),r.setAttribute('x2',i.stop),r.setAttribute('y1',i.position),r.setAttribute('y2',i.position)),s.appendChild(r),i.parentElement.svg.appendChild(s)})(this),this.ticks.length>0&&((i=>{const s=e('g');i.ticks.forEach((e=>{if(!i.type)return;const r=t(i.type);i.isVertical?(r.setAttribute('x1',i.position-5),r.setAttribute('x2',i.position+5),r.setAttribute('y1',e.position),r.setAttribute('y2',e.position)):(r.setAttribute('x1',e.position),r.setAttribute('x2',e.position),r.setAttribute('y1',i.position-5),r.setAttribute('y2',i.position+5)),s.appendChild(r)})),i.parentElement.svg.appendChild(s)})(this),(s=>{const r=s.parentElement.svg,n=e('g');r.appendChild(n),s.ticks.forEach((e=>{if(!s.label)return;const o=t(s.label);o.innerHTML=e.value,n.appendChild(o);const{width:a,height:h}=o.getBoundingClientRect();switch(s.direction){case'right':o.setAttribute('x',s.position+7),o.setAttribute('y',e.position-h/3);break;case'left':o.setAttribute('x',s.position-a-7),o.setAttribute('y',e.position-h/3);break;case'top':o.setAttribute('x',e.position-a/2),o.setAttribute('y',s.position+7);break;case'bottom':o.setAttribute('x',e.position-a/2),o.setAttribute('y',s.position-h);break;default:return}i(r,o)}))})(this),(i=>{const s=e('g');i.grid&&i.ticks.forEach((e=>{if(!i.grid)return;const r=t(i.grid);i.isVertical?(r.setAttribute('x1',i.gridStart),r.setAttribute('x2',i.gridStop),r.setAttribute('y1',e.position),r.setAttribute('y2',e.position)):(r.setAttribute('x1',e.position),r.setAttribute('x2',e.position),r.setAttribute('y1',i.gridStart),r.setAttribute('y2',i.gridStop)),s.appendChild(r)})),i.parentElement.svg.appendChild(s)})(this))}init(){const t=this.parentElement;this.height=parseFloat(t.getAttribute('height')??200),this.width=parseFloat(t.getAttribute('width')??200),this.margin={top:parseFloat(t.getAttribute('margin-top')??t.getAttribute('margin')??0),bottom:parseFloat(t.getAttribute('margin-bottom')??t.getAttribute('margin')??0),left:parseFloat(t.getAttribute('margin-left')??t.getAttribute('margin')??0),right:parseFloat(t.getAttribute('margin-right')??t.getAttribute('margin')??0)},this.min=parseInt(this.getAttribute('min')??0),this.max=parseInt(this.getAttribute('max')??0),this.type=this.querySelector('line[axis-line]'),this.label=this.querySelector('text'),this.grid=this.querySelector('line[grid-line]')}setTickPositions(){this.ticks=[];const t=parseInt(this.getAttribute('ticks')??0);if(t<=0)return;const e=Math.round((this.max-this.min)/(t-1));let i=this.min,s=this.start;for(;s=(i-this.min)/(this.max-this.min)*(this.stop-this.start)+this.start,!(s>this.stop);)this.ticks.push({value:i,position:s}),i+=e}}class l extends HTMLElement{constructor(){super(),this.setStyles(),this.height=parseFloat(this.getAttribute('height')??200),this.width=parseFloat(this.getAttribute('width')??200),this.margin={top:parseFloat(this.getAttribute('margin-top')??this.getAttribute('margin')??0),bottom:parseFloat(this.getAttribute('margin-bottom')??this.getAttribute('margin')??0),left:parseFloat(this.getAttribute('margin-left')??this.getAttribute('margin')??0),right:parseFloat(this.getAttribute('margin-right')??this.getAttribute('margin')??0)},this.svg=((t,e)=>{const i=document.createElementNS('http://www.w3.org/2000/svg','svg');return i.setAttribute('width',t),i.setAttribute('height',e),i.setAttribute('transform','scale(1,-1)'),i})(this.width,this.height),this.appendChild(this.svg),this.dispatchEvent(new Event('created'))}disconnectedCallback(){}set ondraw(t){this.querySelector('data-set').ondraw=t}set data(t){this.querySelector('data-set').data=t}setStyles(){this.style.lineHeight=0}}customElements.get('left-axis')??customElements.define('left-axis',class extends h{constructor(){super(),this.start=this.margin.bottom,this.stop=this.height-this.margin.top,this.position=this.margin.left,this.gridStart=this.margin.left,this.gridStop=this.width-this.margin.right,this.isVertical=!0,this.direction='left'}connectedCallback(){}disconnectedCallback(){}}),customElements.get('right-axis')??customElements.define('right-axis',class extends h{constructor(){super(),this.start=this.margin.bottom,this.stop=this.height-this.margin.top,this.position=this.width-this.margin.right,this.gridStart=this.margin.left,this.gridStop=this.width-this.margin.right,this.isVertical=!0,this.direction='right'}connectedCallback(){}disconnectedCallback(){}}),customElements.get('top-axis')??customElements.define('top-axis',class extends h{constructor(){super(),this.start=this.margin.left,this.stop=this.width-this.margin.right,this.position=this.height-this.margin.top,this.gridStart=this.margin.bottom,this.gridStop=this.height-this.margin.top,this.isVertical=!1,this.direction='top'}connectedCallback(){}disconnectedCallback(){}}),customElements.get('bottom-axis')??customElements.define('bottom-axis',class extends h{constructor(){super(),this.start=this.margin.left,this.stop=this.width-this.margin.right,this.position=this.margin.bottom,this.gridStart=this.margin.bottom,this.gridStop=this.height-this.margin.top,this.isVertical=!1,this.direction='bottom'}connectedCallback(){}disconnectedCallback(){}}),customElements.get('data-set')??customElements.define('data-set',a),customElements.get('chart-ease')??customElements.define('chart-ease',l),customElements.get('candle-stick')??customElements.define('candle-stick',class extends a{constructor(){super(),this.adjust()}connectedCallback(){}disconnectedCallback(){}adjust(){this.appendChild(e('line')),this.appendChild(e('rect')),this.ondraw=({shape:t,row:e})=>{switch(t.tagName){case'line':t.setAttribute('x1',e.x+5),t.setAttribute('x2',e.x+5),t.setAttribute('y1',e.low),t.setAttribute('y2',e.high),t.setAttribute('stroke',e.open>e.close?'#28A69A':'#EE5355');break;case'rect':t.setAttribute('width',10),t.setAttribute('height',Math.abs(e.open-e.close)),t.setAttribute('x',e.x),t.setAttribute('y',e.open),t.setAttribute('fill',e.open>e.close?'#28A69A':'#EE5355')}},this.axes=[{cols:['x'],length:200,margin:10},{cols:['low','open','close','high'],length:200,margin:10}]}})}();
//# sourceMappingURL=chart-ease.min.js.map
